# Design Pattern (大话设计模式)

## UML

![UML](./uml/uml_sample.png)

## Simple Factory

简单工厂模式 (Simple factory)，通过一个 Factory 类，去实例化所需的对象。

![simple factory uml](./uml/simple_factory.png)

优点：松耦合，每个 operation 和其他的都不相干。增减 operation 只需要改动自己和 factory 里的条件。

## Strategy

策略模式定义了算法家族，分别封装起来，让它们之间可以互相替换，此模式让算法的变化，不会影响到使用算法的客户。

![strategy uml](./uml/strategy.png)

当不同的行为堆砌在一个类中时，就很难避免使用条件语句来选择合适的行为。将这些行为封装在一个个独立的 Strategy 类中，可以在使用这些行为的类中消除条件语句 ​。就商场收银系统的例子而言，在客户端的代码中就消除条件语句，避免了大量的判断（判断交给了 context）。

策略模式就是用来封装算法的，但在实践中，我们发现可以用它来封装几乎任何类型的规则，只要在分析过程中听到需要在不同时间应用不同的业务规则，就可以考虑使用策略模式处理这种变化的可能性。

在基本的策略模式中，选择所用具体实现的职责由客户端对象承担，并转给策略模式的 Context 对象 ​。这本身并没有解除客户端需要选择判断的压力，而策略模式与简单工厂模式结合后，选择具体实现的职责也可以由 Context 来承担，这就最大化地减轻了客户端的职责

## Visitor

访问者模式（Visitor），表示一个作用于某对象结构中的各元素的操作。它使你可以在不改变各元素的类的前提下定义作用于这些元素的新操作

![visitor uml](./uml/visitor.png)

优点: 增加新的操作 (Visitor) 很容易，只需要增加一个 Visitor 的子类。
缺点：增加新的数据结构 (Element) 变得困难。
总结：只有 element 不变的时候，visitor 才适用。所以适用范围并不广。
